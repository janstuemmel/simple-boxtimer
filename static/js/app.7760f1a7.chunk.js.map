{"version":3,"sources":["src/beep.mp3","src/timer.js","src/components/SettingsModal.js","src/components/Slider.js","src/components/Clock.js","src/util.js","src/components/KeepAwake.web.js","src/App.js","App.js","web-build/register-service-worker.js"],"names":["module","exports","Timer","trainingTime","pauseTime","prepTime","this","isTurn","isPause","isPrep","rounds","time","SettingsModalItem","props","View","style","styles","item","children","SettingsModalTouchable","TouchableHighlight","activeOpacity","underlayColor","onPress","SettingsModalHeader","Text","paddingTop","paddingBottom","paddingLeft","paddingRight","borderBottomWidth","borderColor","label","Wrapper","Platform","OS","modal","display","visible","Modal","transparent","onRequestClose","SettingsModal","TouchableOpacity","overlay","intensity","content","elevation","ScrollView","bounces","fadingEdgeLength","StyleSheet","create","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","flexDirection","position","zIndex","flex","backgroundColor","borderTopLeftRadius","borderTopRightRadius","justifyContent","alignItems","type","disabled","marginLeft","min","minimumValue","max","maximumValue","step","value","onChange","evt","onSlidingComplete","currentTarget","Slider","Clock","clock","fontSize","lineHeight","marginBottom","seconds","Date","toISOString","substr","sound","Audio","Sound","DEFAULT_TIMERS","App","useState","modalVisible","setModalVisible","timer","setTimer","setTime","setRounds","stopped","setStopped","setIsPause","isIdle","setIsIdle","setIsPrep","isUnmute","setIsUnmute","soundVolume","setSoundVolume","useKeepAwake","tick","a","async","setOnPlaybackStatusUpdate","status","didJustFinish","unloadAsync","loadAsync","beepSound","setVolumeAsync","replayAsync","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useInterval","_reset","document","querySelector","setAttribute","BottomBarButton","FontAwesome5","name","icon","size","color","StatusBar","animationType","map","t","i","key","Switch","onValueChange","val","navigator","window","addEventListener","serviceWorker","register","scope","then","info","catch","error","console"],"mappings":"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","file":"static/js/app.7760f1a7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/beep.7dade896.mp3\";","export default class Timer {\n  \n  constructor(trainingTime, pauseTime, prepTime = 6) {\n    \n    this.isTurn = false\n    this.isPause = false\n    this.isPrep = true\n    this.rounds = 1\n\n    this.prepTime = prepTime\n    this.pauseTime = pauseTime\n    this.trainingTime = trainingTime\n\n    this.time = this.prepTime\n  }\n \n  tick() {\n    \n    this.isTurn = false \n\n    if (this.time <= 1) {\n\n      this.isTurn = true\n\n      if (this.isPrep) {\n\n        this.isPrep = false\n\n        this.time = this.trainingTime\n\n        return\n      }\n\n\n      this.isPause = !this.isPause\n\n      this.rounds = !this.isPause ? this.rounds + 1 : this.rounds\n\n      this.time = this.isPause ? this.pauseTime : this.trainingTime\n    } \n\n    else {\n\n      this.time = this.time - 1\n    }\n  }\n}","import React from 'react'\nimport { View, Modal, Platform, ScrollView, TouchableOpacity, StyleSheet, Text, TouchableHighlight } from 'react-native'\n\nexport function SettingsModalItem(props) {\n  return (\n    <View style={styles.item}>\n      {props.children}\n    </View>\n  )\n}\n\nexport function SettingsModalTouchable(props) {\n  return (\n    <TouchableHighlight {...props} activeOpacity={0.6} underlayColor=\"#e0e0e0\" onPress={props.onPress} >\n      <View style={styles.item}>\n        {props.children}\n      </View>\n    </TouchableHighlight>\n  )\n}\n\nexport function SettingsModalHeader(props) {\n  return (\n    <Text style={{ paddingTop: 10, paddingBottom: 10, paddingLeft: 20, paddingRight: 20, borderBottomWidth: 1, borderColor: '#f9f9f9' }}>{props.label}</Text>\n  )\n}\n\nfunction Wrapper(props) {\n\n  return Platform.OS === 'web' ? (\n    <View style={[styles.modal, { display: props.visible ? 'flex' : 'none' }]}>\n      {props.children}\n    </View>\n  ) : (\n    <Modal {...props} transparent={true} onRequestClose={props.onRequestClose} >\n      {props.children}\n    </Modal>  \n  )\n}\n\nexport default function SettingsModal(props) {\n\n  return (\n    <Wrapper {...props}>\n        <TouchableOpacity activeOpacity={100} onPress={props.onRequestClose} style={styles.overlay} />\n        <View intensity={20} style={[ styles.content, styles.elevation ]}>\n          <ScrollView bounces={true} fadingEdgeLength={100}>            \n            {props.children}\n          </ScrollView>\n        </View>\n    </Wrapper>\n  )\n}\n\nconst styles = StyleSheet.create({\n  elevation: Platform.OS === 'web' ? {\n    shadowColor: \"#000\",\n    shadowOffset: { width: 0, height: 12 },\n    shadowOpacity: 0.58,\n    shadowRadius: 16.00,\n  } : { \n    elevation: 24 \n  },\n  modal: Platform.OS === 'web' ? {\n    flexDirection: 'column',\n    position: 'absolute',\n    width: '100%', \n    height: '100%', \n    zIndex: 1,\n  } : {},\n  overlay: {\n    flex: 1,\n  },\n  content: {\n    flex: 0.78, \n    backgroundColor: 'white',\n    borderTopLeftRadius: 15, \n    borderTopRightRadius: 15, \n    paddingTop: 15, \n  },\n  item: {\n    flex: 1, \n    flexDirection: 'row',\n    justifyContent: 'center', \n    alignItems: 'center',\n    paddingTop: 15, \n    paddingBottom: 15, \n    paddingLeft: 20, \n    paddingRight: 20\n  }\n})","import React from 'react'\nimport { Slider, Platform } from 'react-native'\n\nexport default function(props) {\n\n  const onChange = evt => props.onSlidingComplete(evt.currentTarget.value)\n\n  return Platform.OS === 'web' ? (\n    <input \n      type=\"range\" \n      disabled={props.disabled} \n      style={{ flex: 1, marginLeft: 20 }} \n      min={props.minimumValue}\n      max={props.maximumValue}\n      step={'0.1'}\n      value={props.value} \n      onChange={onChange} \n      />\n  ) : <Slider {...props} />\n}","import React from 'react'\nimport { View, Text, StyleSheet } from 'react-native'\n\nimport { secondsToMinutes } from '../util'\n\nexport default function Clock(props) {\n  return (\n    <View style={styles.clock}>\n      <Text style={{ fontSize: 50, lineHeight: 50, marginBottom: 20 }}>\n        { props.isPrep ? 'PREPARE' : props.isPause ? 'PAUSE' : 'WORK' }\n      </Text>\n      <Text style={{ fontSize: 150, lineHeight: 150}}>\n        {props.isPrep ? props.time : secondsToMinutes(props.time)}\n      </Text>\n      <Text style={{ fontSize: 50, lineHeight: 50 }}>\n        ROUND {props.rounds}\n      </Text>\n    </View>    \n  )\n}\n\nconst styles = StyleSheet.create({\n  clock: {\n    flex: 1, \n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  }\n})","import { useEffect, useRef } from 'react'\n\nexport function useInterval(callback, delay) {\n  \n  const savedCallback = useRef()\n\n  useEffect(() => {\n    \n    savedCallback.current = callback\n  \n  }, [callback])\n\n  useEffect(() => {\n\n    function tick() {\n      \n      savedCallback.current()\n    }\n\n    if (delay !== null) {\n      \n      let id = setInterval(tick, delay)\n      \n      return () => clearInterval(id)\n    }\n\n  }, [delay])\n}\n\nexport function secondsToMinutes(seconds) {\n  return new Date(seconds * 1000).toISOString().substr(14, 5)\n}\n","// TODO:\n// * keep awake on browser / pwa\n\nexport default function() {\n  return null\n}","import React, { useState } from 'react'\nimport { Text, View, TouchableOpacity, Platform, Switch } from 'react-native'\n\nimport { StatusBar } from 'expo-status-bar'\nimport { useKeepAwake } from 'expo-keep-awake'\nimport { FontAwesome5 } from '@expo/vector-icons'\nimport { Audio } from 'expo-av'\n\nimport Timer from './timer'\nimport { useInterval } from './util'\nimport SettingsModal, { SettingsModalItem, SettingsModalHeader, SettingsModalTouchable } from './components/SettingsModal'\nimport Slider from './components/Slider'\nimport Clock from './components/Clock'\nimport KeepAwake from './components/KeepAwake'\nimport beepSound from './beep.mp3'\n\nconst sound = new Audio.Sound()\n\nconst DEFAULT_TIMERS = [\n  { label: '3min / 1min', trainingTime: 180, pauseTime: 60 },\n  { label: '2min / 1min', trainingTime: 120, pauseTime: 60 },\n  { label: '1min / 1min', trainingTime: 60, pauseTime: 60 },\n  { label: '50sec', trainingTime: 50, pauseTime: 50 },\n  { label: '40sec', trainingTime: 40, pauseTime: 40 },\n  { label: '30sec', trainingTime: 30, pauseTime: 30 },\n  { label: '20sec', trainingTime: 20, pauseTime: 20 },\n  { label: '10sec', trainingTime: 10, pauseTime: 10 },\n]\n\nexport default function App() {\n\n  const [ modalVisible, setModalVisible ] = useState(false)\n  \n  const [ timer, setTimer ] = useState(new Timer(180, 60))\n  const [ time, setTime ] = useState(timer.trainingTime)\n  const [ rounds, setRounds ] = useState(1)\n  const [ stopped, setStopped ] = useState(true)\n  const [ isPause, setIsPause ] = useState(false)\n  const [ isIdle, setIsIdle ] = useState(true)\n  const [ isPrep, setIsPrep ] = useState(false)\n  const [ isUnmute, setIsUnmute ] = useState(true)\n  const [ soundVolume, setSoundVolume ] = useState(0.5) \n\n  \n  async function playSound() {\n  \n    // unload the sound after playing\n    sound.setOnPlaybackStatusUpdate(status => status.didJustFinish ? sound.unloadAsync() : null)\n  \n    // play sound\n    await sound.loadAsync(beepSound)\n    await sound.setVolumeAsync(soundVolume)\n    await sound.replayAsync()\n  }\n  // keep display on\n  useKeepAwake()\n\n  // clock tick\n  const tick = () => {\n\n    timer.tick()\n    \n    if (timer.isTurn && isUnmute) {\n      playSound()\n    }\n    \n    setIsPrep(timer.isPrep)\n    setIsIdle(false)\n    setTime(timer.time)\n    setIsPause(timer.isPause)\n    setRounds(timer.rounds)\n  }\n\n  // the timer's interval\n  useInterval(tick, stopped ? null : 1000)\n\n  // reset clock\n  const _reset = (trainingTime) => {\n    setIsPrep(false)\n    setIsIdle(true)\n    setTime(trainingTime)\n    setIsPause(false)\n    setRounds(1)\n    setStopped(true)\n  }\n\n  const resetTimer = () => {\n    \n    // set the old timer as a new one\n    setTimer(new Timer(timer.trainingTime, timer.pauseTime))\n\n    // reset\n    _reset(timer.trainingTime)\n  }\n\n  const selectTimer = (trainingTime, pauseTime) => () => {\n    \n    // set a new timer\n    setTimer(new Timer(trainingTime, pauseTime))\n\n    // reset\n    _reset(trainingTime)\n    \n    // close select modal\n    setModalVisible(false)\n  }\n\n  const startTimer = () => {\n\n    // tick one time at start, to prevent sucking a second\n    if (stopped) tick()\n\n    // set stopped false to start interval\n    setStopped(!stopped)\n  }\n\n  // backgroundcolor for background and status bar\n  const backgroundColor = isPrep ? 'yellow' : isIdle ? 'white' : isPause ? 'lightcoral' : 'lightgreen'\n\n  // set the status bar color for progressive web apps\n  if (Platform.OS === 'web') {\n    document.querySelector('meta[name=\"theme-color\"]').setAttribute('content', backgroundColor)\n  }\n\n\n  const BottomBarButton = props => (\n    <TouchableOpacity style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }} onPress={props.onPress}>\n      <FontAwesome5 name={props.icon} size={36} color=\"black\" />\n    </TouchableOpacity>\n  )\n\n  return (\n    <View style={{ flex: 1, backgroundColor }}>\n      <KeepAwake />\n      <StatusBar backgroundColor={backgroundColor} />\n\n      <SettingsModal transparent={true} animationType=\"slide\" visible={modalVisible} onRequestClose={() => setModalVisible(false)}>\n        \n        <SettingsModalHeader label=\"TIMERS\" />\n        \n        { DEFAULT_TIMERS.map((t, i) => \n          <SettingsModalTouchable key={`timer_${i}`} onPress={selectTimer(t.trainingTime, t.pauseTime)}>\n            <FontAwesome5 style={{ width: 28 }} name=\"hourglass-start\" size={18} color=\"black\" />\n            <Text style={{ fontSize: 18, flex: 1 }}>{t.label}</Text>\n          </SettingsModalTouchable>\n        )}\n\n        <SettingsModalHeader label=\"SETTINGS\" />\n        \n        <SettingsModalItem>\n          <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n            <FontAwesome5 style={{ width: 28 }} name={ isUnmute ? 'bell' : 'bell-slash' } size={18} color=\"black\" />\n            <Text style={{ fontSize: 18, flex: 1 }}>Play Sound</Text>\n          </View>\n          <Switch value={isUnmute} onValueChange={() => setIsUnmute(!isUnmute)} />\n        </SettingsModalItem>\n        <SettingsModalItem>\n          <FontAwesome5 style={{ width: 28 }} name={ soundVolume >= 0.5 ? 'volume-up' : soundVolume > 0.25 ? 'volume-down' : 'volume-off' } size={18} color=\"black\" />\n          <Text style={{ fontSize: 18 }}>Volume</Text>\n          <Slider style={{ flex: 1 }} disabled={!isUnmute} minimumValue={0} maximumValue={1} step={0.01} value={soundVolume} onSlidingComplete={val => setSoundVolume(val)} />\n        </SettingsModalItem>\n      </SettingsModal>\n\n      <Clock isPause={isPause} isPrep={isPrep} rounds={rounds} time={time} />\n      \n      <View style={{ height: 70, flexDirection: 'row' }}>\n        <BottomBarButton icon={stopped ? 'play' : 'pause'} onPress={startTimer} />\n        <BottomBarButton icon=\"redo\" onPress={resetTimer} />\n        <BottomBarButton icon=\"cog\" onPress={() => setModalVisible(true)} />\n      </View>\n    </View>\n  )\n}\n","import React from 'react'\n\nimport App from './src/App'\n\nexport default function() {\n  return <App />\n}","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function () {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function (info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function (error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n"],"sourceRoot":""}